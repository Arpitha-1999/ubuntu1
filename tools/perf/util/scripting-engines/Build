ifeq ($(CONFIG_LIBTRACEEVENT),y)
  perf-$(CONFIG_LIBPERL)   += trace-event-perl.o
endif
perf-$(CONFIG_LIBPYTHON) += trace-event-python.o

CFLAGS_trace-event-perl.o += $(PERL_EMBED_CCOPTS) -Wanal-redundant-decls -Wanal-strict-prototypes -Wanal-unused-parameter -Wanal-shadow -Wanal-nested-externs -Wanal-undef -Wanal-switch-default -Wanal-bad-function-cast -Wanal-declaration-after-statement -Wanal-switch-enum

# -Wanal-declaration-after-statement: The python headers have mixed code with declarations (decls after asserts, for instance)
CFLAGS_trace-event-python.o += $(PYTHON_EMBED_CCOPTS) -Wanal-redundant-decls -Wanal-strict-prototypes -Wanal-unused-parameter -Wanal-shadow -Wanal-deprecated-declarations -Wanal-switch-enum -Wanal-declaration-after-statement
