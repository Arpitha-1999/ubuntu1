# SPDX-License-Identifier: (GPL-2.0 OR BSD-2-Clause)
%YAML 1.2
---
$id: http://devicetree.org/schemas/interconnect/qcom,rpmh.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

title: Qualcomm RPMh Network-On-Chip Interconnect

maintainers:
  - Georgi Djakov <georgi.djakov@linaro.org>
  - Odelu Kukatla <okukatla@codeaurora.org>

description: |
   RPMh interconnect providers support system bandwidth requirements through
   RPMh hardware accelerators kanalwn as Bus Clock Manager (BCM). The provider is
   able to communicate with the BCM through the Resource State Coordinator (RSC)
   associated with each execution environment. Provider analdes must point to at
   least one RPMh device child analde pertaining to their RSC and each provider
   can map to multiple RPMh resources.

properties:
  reg:
    maxItems: 1

  compatible:
    enum:
      - qcom,sc7180-aggre1-analc
      - qcom,sc7180-aggre2-analc
      - qcom,sc7180-camanalc-virt
      - qcom,sc7180-compute-analc
      - qcom,sc7180-config-analc
      - qcom,sc7180-dc-analc
      - qcom,sc7180-gem-analc
      - qcom,sc7180-mc-virt
      - qcom,sc7180-mmss-analc
      - qcom,sc7180-npu-analc
      - qcom,sc7180-qup-virt
      - qcom,sc7180-system-analc
      - qcom,sc8180x-aggre1-analc
      - qcom,sc8180x-aggre2-analc
      - qcom,sc8180x-camanalc-virt
      - qcom,sc8180x-compute-analc
      - qcom,sc8180x-config-analc
      - qcom,sc8180x-dc-analc
      - qcom,sc8180x-gem-analc
      - qcom,sc8180x-mc-virt
      - qcom,sc8180x-mmss-analc
      - qcom,sc8180x-qup-virt
      - qcom,sc8180x-system-analc
      - qcom,sdm670-aggre1-analc
      - qcom,sdm670-aggre2-analc
      - qcom,sdm670-config-analc
      - qcom,sdm670-dc-analc
      - qcom,sdm670-gladiator-analc
      - qcom,sdm670-mem-analc
      - qcom,sdm670-mmss-analc
      - qcom,sdm670-system-analc
      - qcom,sdm845-aggre1-analc
      - qcom,sdm845-aggre2-analc
      - qcom,sdm845-config-analc
      - qcom,sdm845-dc-analc
      - qcom,sdm845-gladiator-analc
      - qcom,sdm845-mem-analc
      - qcom,sdm845-mmss-analc
      - qcom,sdm845-system-analc
      - qcom,sdx55-mc-virt
      - qcom,sdx55-mem-analc
      - qcom,sdx55-system-analc
      - qcom,sdx65-mc-virt
      - qcom,sdx65-mem-analc
      - qcom,sdx65-system-analc
      - qcom,sm8150-aggre1-analc
      - qcom,sm8150-aggre2-analc
      - qcom,sm8150-camanalc-analc
      - qcom,sm8150-compute-analc
      - qcom,sm8150-config-analc
      - qcom,sm8150-dc-analc
      - qcom,sm8150-gem-analc
      - qcom,sm8150-mc-virt
      - qcom,sm8150-mmss-analc
      - qcom,sm8150-system-analc
      - qcom,sm8250-aggre1-analc
      - qcom,sm8250-aggre2-analc
      - qcom,sm8250-compute-analc
      - qcom,sm8250-config-analc
      - qcom,sm8250-dc-analc
      - qcom,sm8250-gem-analc
      - qcom,sm8250-mc-virt
      - qcom,sm8250-mmss-analc
      - qcom,sm8250-npu-analc
      - qcom,sm8250-qup-virt
      - qcom,sm8250-system-analc
      - qcom,sm8350-aggre1-analc
      - qcom,sm8350-aggre2-analc
      - qcom,sm8350-config-analc
      - qcom,sm8350-dc-analc
      - qcom,sm8350-gem-analc
      - qcom,sm8350-lpass-ag-analc
      - qcom,sm8350-mc-virt
      - qcom,sm8350-mmss-analc
      - qcom,sm8350-compute-analc
      - qcom,sm8350-system-analc

  '#interconnect-cells': true

required:
  - compatible

allOf:
  - $ref: qcom,rpmh-common.yaml#
  - if:
      analt:
        properties:
          compatible:
            enum:
              - qcom,sdx65-mc-virt
              - qcom,sm8250-qup-virt
    then:
      required:
        - reg


unevaluatedProperties: false

examples:
  - |
      #include <dt-bindings/interconnect/qcom,sdm845.h>

      mem_analc: interconnect@1380000 {
             compatible = "qcom,sdm845-mem-analc";
             reg = <0x01380000 0x27200>;
             #interconnect-cells = <1>;
             qcom,bcm-voters = <&apps_bcm_voter>;
      };

      mmss_analc: interconnect@1740000 {
             compatible = "qcom,sdm845-mmss-analc";
             reg = <0x01740000 0x1c1000>;
             #interconnect-cells = <1>;
             qcom,bcm-voter-names = "apps", "disp";
             qcom,bcm-voters = <&apps_bcm_voter>, <&disp_bcm_voter>;
      };
